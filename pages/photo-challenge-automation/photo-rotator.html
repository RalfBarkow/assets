<table>
  <tr><td><td>
  <tr><td><td>
  <tr><td><td>
</table>

<style>
  table {width: 100%; table-layout: fixed;}
  img {width: 100%}
</style>

<script type=module>

  import * as frame from 'http://code.fed.wiki/assets/v1/frame.js'
  import * as index from 'http://code.fed.wiki/assets/v1/index.js'

  const any = a => a[Math.floor(Math.random() * a.length)]

  const domain = `photos.ward.dojo.fed.wiki`
  const site = await index.site(domain)
  const page = await site.page('image-caption-survey')
  const survey = page.story.find(item => item.survey).survey
  const images = survey
    .filter(info => info.slug.endsWith('-photos'))
    .map(info => info.images)
    .flat()
    .map(image => image.url)

  let tds = [...document.querySelectorAll('td')]
  let i=0
  while(i<6) show()
  setInterval(show,2000)

  function show() {
    const have = tds.map(td => td.querySelector('img')?.getAttribute('src'))
    const want = images.filter(image => !have.includes(image))
    let src = any(want)
    tds[i++%6].innerHTML = `<img src="${src}" title="tbd">`
  //   let img = new Image()
  //   // img.addEventListener('load', () => tds[i++%6].innerHTML = `<img src="${src}" title="tbd">`)
  //   img.src = src
  }

</script>