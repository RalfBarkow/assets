<center>
  <table id=mosaic ondragstart=drag(event) ondragover=over(event) ondrop=drop(event)>
  </table>
</center>
<style>
  table {border-spacing:0;}
  td {padding:0;background-color:#ddd;}
</style>
<script type=module>

  let tiles = ['elbow','faucet','flowing','reverse','spout','straight','tank','tee']
  let rows = [0,1,2,3,4,5,6,7]
  let cols = [0,1,2,3,4,5,6,7,8]
  let rand = (n) => Math.floor(Math.random() * n)
  let tile = (n) => `<img src="./tiles/${tiles[n]}.png">`
  let maby = (n) => rand(100)<n

  window.mosaic.innerHTML = rows.map(r =>
    `<tr>${cols.map(c =>`<td>${maby(60)?tile(rand(8)):''}`).join('')}`).join('')

  let dragged
  window.drag = event => {dragged = event.target}
  window.over = event => {event.preventDefault()}
  window.drop = event => {event.preventDefault()
    let target = event.target
    switch(target.nodeName) {
      case 'TD': target.appendChild(dragged); break
      case 'IMG': target.parentElement.replaceChild(dragged,target); break
    }
  }

</script>