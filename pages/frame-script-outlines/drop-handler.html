<center>
  <p id=result>waiting</p>
  <p id=dropzone ondrop="dodrop(event)" ondragover="doover(event)" ondragenter="doover(event)">drop here</p>
  <p><pre id=details></pre></p>
</center>

<style>
  body {font-family:Sans;}
  #dropzone {
    height:100px;
    width:400px;
    background-color:#ddd;
    display: table-cell;
    vertical-align: middle;
  }
</style>

<script type=module>

  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API
  // https://github.com/fedwiki/wiki-plugin-transport/blob/master/client/transport.coffee

  window.doover = event => {
    event.preventDefault();
    return false
  }

  window.dodrop = event => {
    event.preventDefault();
    let dt = event.dataTransfer
    window.result.innerHTML = dt.types.join(", ")
    let text = dt.getData("text")
    let html = dt.getData("text/html")
    let url = dt.getData("URL")
    const data = {text, html, url}
    console.log(data)
    window.details.innerText = JSON.stringify(data,null,2)
  }

</script>